{"version":3,"sources":["firebase/firebase.js","images/profile_placeholder.png","context/BarkerContext.js","components/Header.js","components/Sidebar.js","components/PostInput.js","components/post/PostMain.js","components/post/PostFooter.js","components/post/CommentInput.js","components/UserTile.js","components/reusables/CloseButton.js","components/modals/InteractionsModal.js","components/post/PostExtras.js","components/post/RebarkModal.js","components/post/EditModal.js","components/post/Post.js","components/Feed.js","components/Main.js","components/profile/ProfileBarks.js","components/profile/ProfileLikes.js","components/profile/ProfileComments.js","components/profile/Profile.js","components/reusables/ArrowLeft.js","components/PostPage.js","components/BarkersPage.js","components/profile/Following.js","components/profile/Followers.js","components/profile/FollowPage.js","components/HashtagPage.js","components/Home.js","components/modals/AnonymousModal.js","components/LoginPage.js","components/modals/ErrorModal.js","App.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","BarkerContext","createContext","ContextProvider","children","useState","userLoggedIn","setUserLoggedIn","currentUser","setCurrentUser","anonName","setAnonName","adminUid","error","setError","showError","setShowError","signInModal","setSignInModal","a","provider","GoogleAuthProvider","signInWithPopup","result","addToUsersCollection","user","afterLoginActions","handleError","e","preventDefault","signInAnonymously","updateProfile","displayName","currUser","addToAdminFollowers","username","imageUrl","photoURL","placeholder","userRef","collection","doc","uid","get","exists","set","url","followers","following","update","FieldValue","arrayUnion","catch","info","signOut","console","log","code","submittedText","type","originalId","add","text","timestamp","serverTimestamp","comments","likedBy","rebarkedBy","originalPostId","errorCode","errorMessage","message","displayedError","useEffect","onAuthStateChanged","Provider","value","closeError","follow","logOut","signIn","signInAnonymous","showSignInModal","submitPost","unfollow","arrayRemove","updateAnonName","target","Header","useContext","id","className","src","alt","to","onClick","Sidebar","props","useRouteMatch","activeClassName","exact","PostInput","postText","setPostText","onSubmit","onChange","reactStringReplace","require","PostMain","post","view","deletePost","openEditModal","postClass","history","useHistory","hashedText","match","i","slice","stopPropagation","push","pathname","PostFooter","likedByUser","rebarkedByUser","displayComment","displayRebark","commentNumber","likesNumber","rebarkNum","addLike","likeActive","rebarkActive","title","submitComment","updateComment","commentText","UserTile","users","find","includes","CloseButton","InteractionsModal","interactions","map","rebarker","PostExtras","showRebarkedByModal","setShowRebarkedByModal","showLikeddByModal","setShowLikedByModal","setRebarkedBy","setLikedBy","newArr","forEach","length","liker","RebarkModal","updateRebark","closeRebark","submitRebark","rebarkText","EditModal","editText","closeEditModal","submitEdit","updateEdit","Post","contents","setCommentText","setRebarkText","setEditText","showComment","setShowComment","showRebark","setShowRebark","showEdit","setShowEdit","originalPost","setOriginalPost","setLikedByUser","setRebarkedByUser","containerClass","increment","postRef","original","ele","originalRef","delete","findOriginalPost","CommentInput","incrementCommentNumber","updatePost","Feed","posts","filteredContent","setFilteredContent","updatedCurrUser","setUpdatedCurrUser","updatedUser","filtered","filter","Main","ProfileBarks","useParams","userPosts","ProfileLikes","userLikedPosts","ProfileComments","commentedPosts","setCommentedPosts","unsubscribe","where","orderBy","onSnapshot","snapshot","commPosts","commPost","comment","commentData","addCommentsToPosts","docs","data","Profile","path","render","ArrowLeft","PostPage","setComments","goBack","BarkersPage","Following","profileOwner","followingUsers","Followers","follower","FollowPage","HashtagPage","hashtag","hashtags","Home","setContents","setPosts","setUsers","fetchedContents","item","fetchedUsers","AnonymousModal","required","LoginPage","ErrorModal","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.076d9729.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\nimport \"firebase/auth\";\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyA07EKf301UP8ETAYs_qbbd00J9UscvFfI\",\n  authDomain: \"barker-app-5af02.firebaseapp.com\",\n  projectId: \"barker-app-5af02\",\n  storageBucket: \"barker-app-5af02.appspot.com\",\n  messagingSenderId: \"728074132045\",\n  appId: \"1:728074132045:web:8a51d747cbcc465daada04\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nexport default firebaseApp;\n","export default \"data:image/png;base64,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\"","import React, { useState, createContext, useEffect } from \"react\";\nimport firebase from \"firebase/app\";\nimport firebaseApp from \"../firebase/firebase\";\nimport placeholder from \"../images/profile_placeholder.png\";\n\nconst db = firebaseApp.firestore();\nconst auth = firebaseApp.auth();\n\nexport const BarkerContext = createContext();\n\nexport const ContextProvider = ({ children }) => {\n  const [userLoggedIn, setUserLoggedIn] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [anonName, setAnonName] = useState(\"\");\n\n  const [adminUid] = useState(\"olyO4oe4gsYRyr1mXXayPJkkvmY2\");\n\n  const [error, setError] = useState(null);\n  const [showError, setShowError] = useState(false);\n\n  const [signInModal, setSignInModal] = useState(false);\n\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        afterLoginActions(user);\n      } else {\n        setUserLoggedIn(false);\n      }\n    });\n  }, []);\n\n  async function signIn() {\n    // Sign into Firebase using popup auth & Google as the identity provider.\n    var provider = new firebase.auth.GoogleAuthProvider();\n    try {\n      const result = await auth.signInWithPopup(provider);\n      let user = result.user;\n      addToUsersCollection(user);\n      afterLoginActions(user);\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  async function signInAnonymous(e) {\n    e.preventDefault();\n    try {\n      const result = await auth.signInAnonymously();\n      const user = result.user;\n      // add the typed username to the userProfile in firebase\n      await user.updateProfile({\n        displayName: anonName,\n      });\n\n      const currUser = await auth.currentUser;\n      //add curr user to user collection in firebase\n      addToUsersCollection(currUser, anonName);\n      addToAdminFollowers(user);\n      // set user information in state\n      afterLoginActions(currUser, anonName);\n\n      setSignInModal(false);\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  async function addToUsersCollection(user, username = null) {\n    try {\n      const imageUrl = user.photoURL || placeholder;\n      // create user collection with UID = to curr user uid at authentication\n      const displayName = username || user.displayName;\n      const userRef = db.collection(\"users\").doc(user.uid);\n      const doc = await userRef.get();\n      if (!doc.exists) {\n        await userRef.set({\n          // no need to add uid because it is the doc id\n          username: displayName,\n          url: imageUrl,\n          followers: [],\n          following: [adminUid],\n        });\n      }\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  function addToAdminFollowers(user) {\n    if (user.uid !== adminUid) {\n      const userRef = db.collection(\"users\").doc(adminUid);\n      userRef\n        .update({\n          followers: firebase.firestore.FieldValue.arrayUnion(user.uid),\n        })\n        .catch((error) => handleError(error));\n    }\n  }\n\n  function afterLoginActions(user, username = null) {\n    const imageUrl = user.photoURL || placeholder;\n    const displayName = username || user.displayName;\n\n    const info = {\n      uid: user.uid,\n      username: displayName,\n      url: imageUrl,\n    };\n    setCurrentUser(info);\n    setUserLoggedIn(true);\n  }\n\n  async function logOut() {\n    try {\n      await auth.signOut();\n      setUserLoggedIn(false);\n      setAnonName(\"\");\n    } catch (error) {\n      console.log(error.code);\n      handleError(error);\n    }\n  }\n\n  async function submitPost(e, submittedText, type, originalId = null) {\n    e.preventDefault();\n\n    try {\n      await db.collection(\"contents\").add({\n        uid: currentUser.uid,\n        username: currentUser.username,\n        url: currentUser.url,\n        type: type,\n        text: submittedText,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        comments: 0,\n        likedBy: [],\n        rebarkedBy: [],\n        originalPostId: originalId || \"\",\n      });\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  function updateAnonName(e) {\n    setAnonName(e.target.value);\n  }\n\n  function showSignInModal() {\n    setSignInModal(true);\n  }\n\n  function closeError() {\n    setShowError(false);\n  }\n\n  function handleError(error) {\n    setShowError(true);\n    var errorCode = error.code;\n    var errorMessage = error.message;\n    const displayedError = `Error code: ${errorCode}. ${errorMessage}`;\n    setError(displayedError);\n  }\n\n  function follow(user) {\n    const userRef = db.collection(\"users\").doc(user.uid);\n    userRef\n      .update({\n        followers: firebase.firestore.FieldValue.arrayUnion(currentUser.uid),\n      })\n      .catch((error) => handleError(error));\n\n    const currRef = db.collection(\"users\").doc(currentUser.uid);\n    currRef\n      .update({\n        following: firebase.firestore.FieldValue.arrayUnion(user.uid),\n      })\n      .catch((error) => handleError(error));\n  }\n\n  function unfollow(user) {\n    const userRef = db.collection(\"users\").doc(user.uid);\n    userRef\n      .update({\n        followers: firebase.firestore.FieldValue.arrayRemove(currentUser.uid),\n      })\n      .catch((error) => handleError(error));\n\n    const currRef = db.collection(\"users\").doc(currentUser.uid);\n    currRef\n      .update({\n        following: firebase.firestore.FieldValue.arrayRemove(user.uid),\n      })\n      .catch((error) => handleError(error));\n  }\n  return (\n    <BarkerContext.Provider\n      value={{\n        anonName,\n        currentUser,\n        error,\n        showError,\n        signInModal,\n        userLoggedIn,\n        closeError,\n        follow,\n        handleError,\n        logOut,\n        setSignInModal,\n        signIn,\n        signInAnonymous,\n        showSignInModal,\n        submitPost,\n        unfollow,\n        updateAnonName,\n      }}\n    >\n      {children}\n    </BarkerContext.Provider>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../context/BarkerContext\";\nimport { Link } from \"react-router-dom\";\n\n// import firebaseApp from \"../firebase/firebase\";\n// import firebase from \"firebase/app\";\n\nconst Header = () => {\n  const { currentUser, logOut } = useContext(BarkerContext);\n  return (\n    <header id=\"header\">\n      <div className=\"header-content\">\n        <div className=\"header-user\">\n          <div>\n            <img\n              className=\"avatar-img\"\n              src={currentUser.url}\n              alt=\"user avatar\"\n            ></img>\n          </div>\n          <div>\n            <Link to={`/profile/${currentUser.uid}`} className=\"link-username\">\n              <span className=\"username\">{currentUser.username}</span>\n            </Link>\n          </div>\n        </div>\n\n        <button onClick={logOut}>Log Out</button>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../context/BarkerContext\";\n\nimport { NavLink, useRouteMatch } from \"react-router-dom\";\nimport { GiBalloonDog } from \"react-icons/gi\";\nimport { FaHome } from \"react-icons/fa\";\nimport { BsPeopleFill, BsPersonFill } from \"react-icons/bs\";\n\nconst Sidebar = (props) => {\n  const { currentUser } = useContext(BarkerContext);\n  const { url } = useRouteMatch();\n\n  return (\n    <div className=\"sidebar\">\n      <div>\n        <GiBalloonDog id=\"dog-icon\" />\n      </div>\n      <div className=\"menu-container\">\n        <NavLink activeClassName={\"active\"} exact={true} to=\"/home\">\n          <div className=\"sidebar-option\">\n            <FaHome />\n            <h3>Home</h3>\n          </div>\n        </NavLink>\n\n        <NavLink to={`${url}barkers`} activeClassName={\"active\"}>\n          <div className=\"sidebar-option\">\n            <BsPeopleFill />\n            <h3>Who to follow</h3>\n          </div>\n        </NavLink>\n\n        <NavLink\n          to={`${url}profile/${currentUser.uid}`}\n          activeClassName={\"active\"}\n        >\n          <div className=\"sidebar-option\">\n            <BsPersonFill />\n            <h3>Your Profile</h3>\n          </div>\n        </NavLink>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React, { useContext, useState } from \"react\";\nimport { BarkerContext } from \"../context/BarkerContext\";\n\nconst PostInput = () => {\n  const { currentUser, submitPost } = useContext(BarkerContext);\n  const [postText, setPostText] = useState(\"\");\n\n  function updatePost(e) {\n    setPostText(e.target.value);\n  }\n  return (\n    <div className=\"post-input\">\n      <div className=\"user-info\">\n        <img alt=\"pic\" src={currentUser.url} className=\"avatar-img\"></img>\n      </div>\n      <div className=\"form-container\">\n        <form\n          className=\"post-input-form\"\n          onSubmit={(e) => {\n            submitPost(e, postText, \"post\");\n            setPostText(\"\");\n          }}\n        >\n          <textarea\n            className=\"post-textarea\"\n            onChange={updatePost}\n            value={postText}\n            placeholder=\"Bark what's on your mind!\"\n          ></textarea>\n          <div className=\"input-btn-div\">\n            <button type=\"submit\">Bark</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\nexport default PostInput;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { BsTrash } from \"react-icons/bs\";\nimport { AiOutlineEdit } from \"react-icons/ai\";\n\nconst reactStringReplace = require(\"react-string-replace\");\n\nconst PostMain = (props) => {\n  const { post, view, deletePost, openEditModal } = props;\n  const { currentUser } = useContext(BarkerContext);\n\n  const postClass = view ? `${view}-main` : \"post-main\";\n  const history = useHistory();\n  const redirect = (e) => {\n    e.stopPropagation();\n    history.push({\n      pathname: `/post/${post.id}`,\n    });\n  };\n\n  const hashedText = reactStringReplace(post.text, /(#\\w+)/g, (match, i) => (\n    <Link\n      to={`/hashtag/${match.slice(1)}`}\n      key={i + match}\n      className=\"hashtag-link\"\n      onClick={(e) => {\n        e.stopPropagation();\n      }}\n    >\n      {match}\n    </Link>\n  ));\n\n  return (\n    <div\n      className={postClass}\n      id={post.id}\n      // onClick={view === \"rebarked\" ? redirect : undefined}\n      onClick={redirect}\n    >\n      <div className=\"main-top\">\n        <div className=\"user-info\">\n          <img alt=\"pic\" src={post.url} className=\"avatar-img\"></img>\n          <Link\n            to={`/profile/${post.uid}`}\n            className=\"link-username\"\n            onClick={(e) => {\n              e.stopPropagation();\n            }}\n          >\n            <span className=\"username\">{post.username}</span>\n          </Link>\n        </div>\n\n        {currentUser.uid === post.uid && view !== \"rebarked\" && (\n          <div className=\"post-icon-div\">\n            <div>\n              <BsTrash\n                className=\"icon\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  deletePost();\n                }}\n              />\n            </div>\n            <div>\n              <AiOutlineEdit\n                className=\"icon\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  openEditModal();\n                }}\n              />\n            </div>\n          </div>\n        )}\n      </div>\n      <div className=\"post-content\">{hashedText}</div>\n\n      {/* <Link to={`/post/${post.id}`} className=\"link-text-content\">\n        <div className=\"post-content\">{post.text}</div>\n      </Link> */}\n    </div>\n  );\n};\n\nexport default PostMain;\n","import React from \"react\";\nimport { FaRegComment, FaPaw, FaRetweet } from \"react-icons/fa\";\n\nconst PostFooter = (props) => {\n  const {\n    likedByUser,\n    rebarkedByUser,\n    displayComment,\n    displayRebark,\n    commentNumber,\n    likesNumber,\n    rebarkNum,\n    addLike,\n  } = props;\n\n  const likeActive = likedByUser ? \"icon active\" : \"icon\";\n  const rebarkActive = rebarkedByUser ? \"icon active\" : \"icon\";\n\n  return (\n    <div className=\"post-footer\">\n      <div className=\"post-icon-div\">\n        <FaRegComment\n          className=\"icon\"\n          title=\"Reply\"\n          onClick={(e) => {\n            e.stopPropagation();\n            displayComment();\n          }}\n        />\n        <div>{commentNumber}</div>\n      </div>\n      <div className=\"post-icon-div\">\n        <FaPaw\n          className={likeActive}\n          title=\"Like\"\n          onClick={(e) => {\n            e.stopPropagation();\n            addLike();\n          }}\n        />\n        <div className={likeActive}>{likesNumber}</div>\n      </div>\n      <div className=\"post-icon-div\">\n        <FaRetweet\n          className={rebarkActive}\n          title=\"Rebark\"\n          onClick={(e) => {\n            e.stopPropagation();\n            displayRebark();\n          }}\n        />\n        <div className={rebarkActive}>{rebarkNum}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default PostFooter;\n","import React from \"react\";\n\nconst PostInput = (props) => {\n  const { submitComment, updateComment, commentText } = props;\n\n  return (\n    <div className=\"comment-input-container\">\n      <form onSubmit={submitComment} className=\"comment-form\">\n        <textarea\n          value={commentText}\n          onClick={(e) => e.stopPropagation()}\n          onChange={updateComment}\n        ></textarea>\n        <button onClick={(e) => e.stopPropagation()} type=\"submit\">\n          Reply\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default PostInput;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../context/BarkerContext\";\nimport { Link } from \"react-router-dom\";\n\nconst UserTile = (props) => {\n  const { user, users } = props;\n  const { follow, unfollow, currentUser } = useContext(BarkerContext);\n  //check if the current user follows the user\n  const following = users\n    .find((user) => user.uid === currentUser.uid)\n    .following.includes(user.uid);\n\n  return (\n    <div className=\"user-tile\">\n      <div className=\"user-info\">\n        <img alt=\"pic\" src={user.url} className=\"avatar-img\"></img>\n        <Link to={`/profile/${user.uid}`} className=\"link-username\">\n          <span className=\"username\">{user.username}</span>\n        </Link>\n      </div>\n      {user.uid !== currentUser.uid && following && (\n        <button onClick={() => unfollow(user)}>Unfollow</button>\n      )}\n      {user.uid !== currentUser.uid && !following && (\n        <div>\n          <button onClick={() => follow(user)}>Follow</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserTile;\n","import React from \"react\";\nimport { AiOutlineClose } from \"react-icons/ai\";\n\nconst CloseButton = (props) => {\n  return (\n    // <div className=\"modal-close-btn-container\">\n    //   <button onClick={props.onClick}>X</button>\n    // </div>\n    <div className=\"btn-container-right\">\n      <AiOutlineClose\n        className=\"icon icon-close\"\n        onClick={(e) => {\n          e.stopPropagation();\n          props.onClick();\n        }}\n      />\n    </div>\n  );\n};\n\nexport default CloseButton;\n","import React from \"react\";\n\nimport UserTile from \"../UserTile\";\nimport CloseButton from \"../reusables/CloseButton\";\n\nconst InteractionsModal = (props) => {\n  const { interactions, users } = props;\n\n  return (\n    <div className=\"extras-modal\">\n      <div className=\"extras-modal-main\">\n        <CloseButton onClick={props.onClick} />\n        <div className=\"extras-tiles-container\">\n          {interactions.map((rebarker) => (\n            <UserTile user={rebarker} users={users} key={rebarker.uid} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InteractionsModal;\n","import React, { useState, useEffect } from \"react\";\n\nimport InteractionsModal from \"../modals/InteractionsModal\";\n\nconst PostExtras = (props) => {\n  const { post, users, likesNumber, rebarkNum } = props;\n  const [showRebarkedByModal, setShowRebarkedByModal] = useState(false);\n  const [showLikeddByModal, setShowLikedByModal] = useState(false);\n  const [rebarkedBy, setRebarkedBy] = useState(null);\n  const [likedBy, setLikedBy] = useState(null);\n\n  useEffect(() => {\n    if (post.rebarkedBy) {\n      let newArr = [];\n      post.rebarkedBy.forEach((rebarker) => {\n        for (let i = 0; i < users.length; i++) {\n          if (rebarker === users[i].uid) {\n            newArr.push(users[i]);\n          }\n        }\n      });\n      setRebarkedBy(newArr);\n    }\n  }, [post.rebarkedBy, users]);\n\n  useEffect(() => {\n    if (post.likedBy) {\n      let newArr = [];\n      post.likedBy.forEach((liker) => {\n        for (let i = 0; i < users.length; i++) {\n          if (liker === users[i].uid) {\n            newArr.push(users[i]);\n          }\n        }\n      });\n      setLikedBy(newArr);\n    }\n  }, [post.likedBy, users]);\n\n  return (\n    <div className=\"extras-container\">\n      <ul className=\"extras\">\n        {rebarkNum > 0 && (\n          <li\n            onClick={(e) => {\n              e.stopPropagation();\n              setShowRebarkedByModal(true);\n            }}\n          >\n            {rebarkNum} rebarks\n          </li>\n        )}\n        {likesNumber > 0 && (\n          <li\n            onClick={(e) => {\n              e.stopPropagation();\n              setShowLikedByModal(true);\n            }}\n          >\n            {likesNumber} likes\n          </li>\n        )}\n      </ul>\n      {showRebarkedByModal && (\n        <InteractionsModal\n          onClick={() => setShowRebarkedByModal(false)}\n          interactions={rebarkedBy}\n          users={users}\n        />\n      )}\n\n      {showLikeddByModal && (\n        <InteractionsModal\n          onClick={() => setShowLikedByModal(false)}\n          interactions={likedBy}\n          users={users}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default PostExtras;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\n\nimport PostMain from \"./PostMain\";\nimport CloseButton from \"../reusables/CloseButton\";\n\nconst RebarkModal = (props) => {\n  const { post, updateRebark, closeRebark, submitRebark, rebarkText } = props;\n  const { currentUser } = useContext(BarkerContext);\n\n  return (\n    <div className=\"modal\">\n      <section className=\"modal-main\">\n        <CloseButton onClick={closeRebark} />\n        <div className=\"post-edit-container\">\n          <div className=\"post-input\">\n            <div className=\"user-info\">\n              <img alt=\"pic\" src={currentUser.url} className=\"avatar-img\"></img>\n              {/* <span className=\"username\">{currentUser.username}</span> */}\n            </div>\n            <div className=\"rebark-form-container\">\n              <form onSubmit={submitRebark} className=\"rebark-form\">\n                <textarea\n                  // className=\"post-input-form\"\n                  className=\"post-textarea\"\n                  placeholder=\"Insert your message\"\n                  onClick={(e) => e.stopPropagation()}\n                  onChange={updateRebark}\n                  value={rebarkText}\n                ></textarea>\n                <div>\n                  <PostMain post={post} view=\"rebarked\" />\n                </div>\n\n                <button type=\"submit\" onClick={(e) => e.stopPropagation()}>\n                  Submit post\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default RebarkModal;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\n\nimport CloseButton from \"../reusables/CloseButton\";\n\nconst EditModal = (props) => {\n  const { editText, closeEditModal, submitEdit, updateEdit } = props;\n  const { currentUser } = useContext(BarkerContext);\n\n  return (\n    <div className=\"modal\">\n      <section className=\"modal-main\">\n        <CloseButton onClick={closeEditModal} />\n        <div className=\"post-edit-container\">\n          <div className=\"post-input\">\n            <div className=\"user-info\">\n              <img alt=\"pic\" src={currentUser.url} className=\"avatar-img\"></img>\n            </div>\n            <div className=\"form-container\">\n              <form className=\"post-input-form\" onSubmit={submitEdit}>\n                <textarea\n                  className=\"post-textarea\"\n                  onChange={updateEdit}\n                  onClick={(e) => e.stopPropagation()}\n                  value={editText}\n                ></textarea>\n                <div className=\"btn-container-right\">\n                  <button type=\"submit\" onClick={(e) => e.stopPropagation()}>\n                    Submit\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default EditModal;\n","import React, { useState, useContext, useEffect } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\n\nimport PostMain from \"./PostMain\";\nimport PostFooter from \"./PostFooter\";\nimport CommentInput from \"./CommentInput\";\nimport PostExtras from \"./PostExtras\";\n\nimport RebarkModal from \"./RebarkModal\";\nimport EditModal from \"./EditModal\";\n\nimport firebase from \"firebase/app\";\nimport firebaseApp from \"../../firebase/firebase\";\nconst db = firebaseApp.firestore();\n\nconst Post = (props) => {\n  const { contents, post, view, users } = props;\n  const { currentUser, handleError, submitPost } = useContext(BarkerContext);\n\n  const [commentText, setCommentText] = useState(\"\");\n  const [rebarkText, setRebarkText] = useState(\"\");\n  const [editText, setEditText] = useState(post.text);\n\n  const [showComment, setShowComment] = useState(false);\n  const [showRebark, setShowRebark] = useState(false);\n  const [showEdit, setShowEdit] = useState(false);\n\n  const [originalPost, setOriginalPost] = useState(null);\n  const [likedByUser, setLikedByUser] = useState(false);\n  const [rebarkedByUser, setRebarkedByUser] = useState(false);\n\n  const commentNumber = post.comments > 0 ? post.comments : \"\";\n  const likesNumber = post.likedBy.length > 0 ? post.likedBy.length : \"\";\n  const rebarkNum = post.rebarkedBy.length > 0 ? post.rebarkedBy.length : \"\";\n  const containerClass = view\n    ? `${view}-container clickable`\n    : \"post-container clickable\";\n\n  const history = useHistory();\n  const redirect = (e) => {\n    history.push({\n      pathname: `/post/${post.id}`,\n    });\n  };\n\n  useEffect(() => {\n    //find post that was rebarked\n    function findOriginalPost() {\n      let original;\n      if (post.type === \"rebark\" && contents) {\n        original = contents.find(function (ele) {\n          return ele.id === post.originalPostId;\n        });\n      }\n      setOriginalPost(original);\n    }\n\n    findOriginalPost();\n  }, [contents, post.originalPostId, post.type]);\n\n  useEffect(() => {\n    //check if current user liked or rebarked this post\n    if (post.likedBy.length > 0) {\n      if (post.likedBy.includes(currentUser.uid)) {\n        setLikedByUser(true);\n      }\n    }\n\n    if (post.rebarkedBy.length > 0) {\n      if (post.rebarkedBy.includes(currentUser.uid)) {\n        setRebarkedByUser(true);\n      }\n    }\n  }, [currentUser.uid, post.likedBy, post.rebarkedBy]);\n\n  function displayComment() {\n    setShowComment(true);\n  }\n\n  function updateComment(e) {\n    setCommentText(e.target.value);\n  }\n\n  function submitComment(e) {\n    e.preventDefault();\n    incrementCommentNumber();\n    submitPost(e, commentText, \"comment\", post.id);\n    setCommentText(\"\");\n    setShowComment(false);\n  }\n\n  async function incrementCommentNumber() {\n    const postRef = db.collection(\"contents\").doc(post.id);\n    postRef\n      .update({\n        comments: firebase.firestore.FieldValue.increment(1),\n      })\n      .catch((error) => handleError(error));\n  }\n\n  function addLike() {\n    const postRef = db.collection(\"contents\").doc(post.id);\n    if (post.likedBy.includes(currentUser.uid)) {\n      postRef\n        .update({\n          likedBy: firebase.firestore.FieldValue.arrayRemove(currentUser.uid),\n        })\n        .catch((error) => handleError(error));\n      setLikedByUser(false);\n    } else {\n      postRef\n        .update({\n          likedBy: firebase.firestore.FieldValue.arrayUnion(currentUser.uid),\n        })\n        .catch((error) => handleError(error));\n    }\n  }\n\n  function displayRebark() {\n    // don't open rebarked modal if user has already rebarked this post\n    if (!post.rebarkedBy.includes(currentUser.uid)) {\n      setShowRebark(true);\n    }\n  }\n\n  function updateRebark(e) {\n    setRebarkText(e.target.value);\n  }\n\n  function submitRebark(e) {\n    e.preventDefault();\n    updateOriginal();\n    submitPost(e, rebarkText, \"rebark\", post.id);\n    setRebarkText(\"\");\n    setShowRebark(false);\n  }\n\n  function closeRebark() {\n    setShowRebark(false);\n  }\n\n  function updateEdit(e) {\n    setEditText(e.target.value);\n  }\n  function openEditModal() {\n    setShowEdit(true);\n  }\n\n  function closeEditModal() {\n    setShowEdit(false);\n  }\n  function submitEdit(e) {\n    e.preventDefault();\n    updatePost();\n    setShowEdit(false);\n  }\n\n  async function updatePost() {\n    try {\n      const postRef = await db.collection(\"contents\").doc(post.id);\n      await postRef.update({\n        text: editText,\n      });\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  function updateOriginal() {\n    const postRef = db.collection(\"contents\").doc(post.id);\n    postRef\n      .update({\n        rebarkedBy: firebase.firestore.FieldValue.arrayUnion(currentUser.uid),\n      })\n      .catch((error) => handleError(error));\n  }\n\n  async function deletePost() {\n    try {\n      const postRef = await db.collection(\"contents\").doc(post.id);\n      let original;\n      if (post.type === \"rebark\" || post.type === \"comment\") {\n        original = contents.find((ele) => ele.id === post.originalPostId);\n        const originalRef = await db.collection(\"contents\").doc(original.id);\n        if (post.type === \"rebark\") {\n          await originalRef.update({\n            rebarkedBy: firebase.firestore.FieldValue.arrayRemove(\n              currentUser.uid\n            ),\n          });\n        } else {\n          await originalRef.update({\n            comments: firebase.firestore.FieldValue.increment(-1),\n          });\n        }\n      }\n      postRef.delete();\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  return (\n    <div className={containerClass} id={post.id} onClick={redirect}>\n      <PostMain\n        post={post}\n        view={view}\n        deletePost={deletePost}\n        openEditModal={openEditModal}\n      />\n      {originalPost && <PostMain post={originalPost} view={\"rebarked\"} />}\n      {(likesNumber || rebarkNum) && users && (\n        <PostExtras\n          users={users}\n          post={post}\n          likesNumber={likesNumber}\n          rebarkNum={rebarkNum}\n        />\n      )}\n      <PostFooter\n        displayComment={displayComment}\n        addLike={addLike}\n        commentNumber={commentNumber}\n        likesNumber={likesNumber}\n        rebarkNum={rebarkNum}\n        displayRebark={displayRebark}\n        likedByUser={likedByUser}\n        rebarkedByUser={rebarkedByUser}\n      />\n      {showComment && (\n        <CommentInput\n          submitComment={submitComment}\n          updateComment={updateComment}\n          commentText={commentText}\n        />\n      )}\n\n      {showRebark && (\n        <RebarkModal\n          post={post}\n          updateRebark={updateRebark}\n          submitRebark={submitRebark}\n          rebarkText={rebarkText}\n          closeRebark={closeRebark}\n        />\n      )}\n\n      {showEdit && (\n        <EditModal\n          editText={editText}\n          updateEdit={updateEdit}\n          submitEdit={submitEdit}\n          closeEditModal={closeEditModal}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Post;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { BarkerContext } from \"../context/BarkerContext\";\n\nimport Post from \"./post/Post\";\n\nconst Feed = (props) => {\n  const { contents, posts, users } = props;\n  const { currentUser } = useContext(BarkerContext);\n  const [filteredContent, setFilteredContent] = useState(null);\n  const [updatedCurrUser, setUpdatedCurrUser] = useState(null);\n\n  useEffect(() => {\n    const updatedUser = users.find((user) => user.uid === currentUser.uid);\n    setUpdatedCurrUser(updatedUser);\n  }, [currentUser.uid, users]);\n\n  useEffect(() => {\n    if (updatedCurrUser) {\n      const filtered = posts.filter(\n        (ele) =>\n          updatedCurrUser.following.includes(ele.uid) ||\n          ele.uid === updatedCurrUser.uid\n      );\n      setFilteredContent(filtered);\n    }\n  }, [posts, updatedCurrUser]);\n\n  return (\n    <div className=\"posts-container\">\n      {filteredContent &&\n        filteredContent.map((post) => (\n          <Post post={post} contents={contents} key={post.id} />\n        ))}\n    </div>\n  );\n};\n\nexport default Feed;\n","import React from \"react\";\n\nimport PostInput from \"./PostInput\";\nimport Feed from \"./Feed\";\n\nconst Main = (props) => {\n  const { contents, posts, users } = props;\n  return (\n    <div className=\"center-container\">\n      <PostInput />\n      <Feed contents={contents} posts={posts} users={users} />\n    </div>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\nimport Post from \"../post/Post\";\nimport { useParams } from \"react-router-dom\";\n\nconst ProfileBarks = (props) => {\n  const { contents } = props;\n  const { uid } = useParams();\n  const { posts } = props;\n  const userPosts = posts.filter((post) => post.uid === uid);\n\n  return (\n    <div className=\"posts-container\">\n      {userPosts.map((post) => (\n        <Post post={post} contents={contents} key={post.id} />\n      ))}\n    </div>\n  );\n};\n\nexport default ProfileBarks;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Post from \"../post/Post\";\n\nconst ProfileLikes = (props) => {\n  const { uid } = useParams();\n  const { contents } = props;\n\n  const userLikedPosts = contents.filter((post) => post.likedBy.includes(uid));\n  return (\n    <div className=\"posts-container\">\n      {userLikedPosts.map((post) => (\n        <Post post={post} key={post.id} />\n      ))}\n    </div>\n  );\n};\n\nexport default ProfileLikes;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\nimport Post from \"../post/Post\";\n//import firebase from \"firebase/app\";\nimport firebaseApp from \"../../firebase/firebase\";\n\nconst db = firebaseApp.firestore();\n\nconst ProfileComments = (props) => {\n  // const { uid } = useParams();\n  const { uid, contents } = props;\n  const { handleError } = useContext(BarkerContext);\n\n  const [commentedPosts, setCommentedPosts] = useState();\n\n  useEffect(() => {\n    //get the comments made by the profile\n    const unsubscribe = db\n      .collection(\"contents\")\n      .where(\"type\", \"==\", \"comment\")\n      .where(\"uid\", \"==\", uid)\n      .orderBy(\"timestamp\", \"asc\")\n      .onSnapshot(\n        (snapshot) => {\n          const comments = snapshot.docs.map((doc) => {\n            return { id: doc.id, ...doc.data() };\n          });\n\n          addCommentsToPosts(comments);\n        },\n        (error) => {\n          handleError(error);\n        }\n      );\n\n    // create array with all commented posts and the comments made by the profile\n    function addCommentsToPosts(comments) {\n      let filtered = [];\n      let commPosts = [];\n      let commPost = {};\n\n      //look for the original posts among the contents\n      for (let i = 0; i < contents.length; i++) {\n        if (comments) {\n          filtered = comments.filter(\n            //look fot the comments that refer to the original post\n            (comment) =>\n              comment.uid === uid && comment.originalPostId === contents[i].id\n          );\n          if (filtered.length > 0) {\n            //add the comments to the original posts\n            commPost = { ...contents[i], commentData: [...filtered] };\n            commPosts.push(commPost);\n          }\n        }\n      }\n      setCommentedPosts(commPosts);\n    }\n\n    return () => unsubscribe();\n  }, [handleError, contents, uid]);\n\n  return (\n    <div className=\"posts-container\">\n      {commentedPosts &&\n        commentedPosts.map((post) => (\n          <div className=\"post-w-comments-container\" key={post.id}>\n            <Post post={post} contents={contents} view={\"comm-post\"} />\n\n            {post.commentData.map((data) => (\n              <Post\n                post={data}\n                contents={contents}\n                key={data.id}\n                view={\"comment\"}\n              />\n            ))}\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default ProfileComments;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\nimport {\n  NavLink,\n  Link,\n  Switch,\n  Route,\n  useParams,\n  useRouteMatch,\n} from \"react-router-dom\";\n\nimport ProfileBarks from \"./ProfileBarks\";\nimport ProfileLikes from \"./ProfileLikes\";\nimport ProfileComments from \"./ProfileComments\";\n\nconst Profile = (props) => {\n  const { contents, users, posts } = props;\n  const { currentUser, follow, unfollow } = useContext(BarkerContext);\n  //const [bioText, setBioText] = useState(\"\");\n\n  const { uid } = useParams();\n  const { url, path } = useRouteMatch();\n  const user = users.find((ele) => ele.uid === uid);\n\n  //check if current user follows the user\n  const following = users\n    .find((user) => user.uid === currentUser.uid)\n    .following.includes(user.uid);\n\n  return (\n    <div className=\"center-container\">\n      {/* user profile data */}\n      <div className=\"info-container\">\n        <div className=\"profile-pic-div\">\n          <img alt=\"pic\" src={user.url} className=\"profile-pic\"></img>\n        </div>\n        <div className=\"info-center\">\n          <h2 className=\"bio-username\">{user.username}</h2>\n\n          {user.uid !== currentUser.uid && following && (\n            <button onClick={() => unfollow(user)}>Unfollow</button>\n          )}\n          {user.uid !== currentUser.uid && !following && (\n            <button onClick={() => follow(user)}>Follow</button>\n          )}\n        </div>\n\n        <div className=\"follow-numbers\">\n          <Link to={`/${uid}/follow-page`}>\n            <div>{user.following.length} following</div>\n          </Link>\n          <Link to={`/${uid}/follow-page/followers`}>\n            <div className=\"followers\">{user.followers.length} followers</div>\n          </Link>\n        </div>\n\n        {/* tabs */}\n        <div className=\"profile-tabs-container\">\n          <NavLink to={`${url}`} exact={true} activeClassName={\"active\"}>\n            <div>Barks</div>\n          </NavLink>\n          <NavLink to={`${url}/comments`} activeClassName={\"active\"}>\n            <div>Comments</div>\n          </NavLink>\n          <NavLink to={`${url}/likes`} activeClassName={\"active\"}>\n            <div>Likes</div>\n          </NavLink>\n        </div>\n      </div>\n      {/* user content */}\n      <Switch>\n        <Route\n          exact\n          path={`${path}`}\n          render={(props) => (\n            <ProfileBarks {...props} contents={contents} posts={posts} />\n          )}\n        />\n\n        <Route\n          path={`${path}/comments`}\n          render={(props) => (\n            <ProfileComments {...props} contents={contents} uid={uid} />\n          )}\n        />\n        <Route\n          path={`${path}/likes`}\n          render={(props) => <ProfileLikes {...props} contents={contents} />}\n        />\n      </Switch>\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\n\nimport { FiArrowLeft } from \"react-icons/fi\";\n\nconst ArrowLeft = (props) => {\n  return (\n    <div className=\"arrow-left-container\">\n      <FiArrowLeft id=\"arrow-left\" onClick={props.onClick} />\n    </div>\n  );\n};\n\nexport default ArrowLeft;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { BarkerContext } from \"../context/BarkerContext\";\nimport { useParams } from \"react-router-dom\";\n\nimport Post from \"./post/Post\";\nimport ArrowLeft from \"./reusables/ArrowLeft\";\n\nimport firebaseApp from \"../firebase/firebase\";\nconst db = firebaseApp.firestore();\n\nconst PostPage = (props) => {\n  const { handleError } = useContext(BarkerContext);\n  const { id } = useParams();\n  const { history, contents, users } = props;\n  const [comments, setComments] = useState(null);\n  const post = contents.find((post) => post.id === id);\n\n  useEffect(() => {\n    //get the all comments to the post\n    // started another onSnapshot bc the one of context collects comments in descending order\n\n    const unsubscribe = db\n      .collection(\"contents\")\n      .where(\"type\", \"==\", \"comment\")\n      .where(\"originalPostId\", \"==\", id)\n      .orderBy(\"timestamp\", \"asc\")\n      .onSnapshot(\n        (snapshot) => {\n          const comments = snapshot.docs.map((doc) => {\n            return { id: doc.id, ...doc.data() };\n          });\n\n          setComments(comments);\n        },\n        (error) => {\n          handleError(error);\n        }\n      );\n\n    return () => unsubscribe();\n  }, [handleError, id]);\n\n  useEffect(() => {\n    if (!post) {\n      history.goBack();\n    }\n  }, [post, history]);\n\n  return (\n    <div className=\"center-container\">\n      <ArrowLeft onClick={() => history.goBack()} />\n      {post && (\n        <div className=\"post-w-comments-container\" key={post.id}>\n          <Post\n            post={post}\n            contents={contents}\n            view={\"comm-post\"}\n            users={users}\n          />\n          {comments &&\n            comments.map((comment) => (\n              <Post\n                post={comment}\n                contents={contents}\n                view={\"comment\"}\n                key={comment.id}\n              />\n            ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PostPage;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../context/BarkerContext\";\nimport UserTile from \"../components/UserTile\";\n\nconst BarkersPage = (props) => {\n  const { users } = props;\n  const { currentUser } = useContext(BarkerContext);\n\n  return (\n    <div className=\"center-container\">\n      {users\n        .filter((user) => user.uid !== currentUser.uid)\n        .map((ele) => (\n          <UserTile user={ele} users={users} key={ele.uid} />\n        ))}\n    </div>\n  );\n};\n\nexport default BarkersPage;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\nimport { useParams } from \"react-router-dom\";\nimport UserTile from \"../UserTile\";\n\nconst Following = (props) => {\n  const { users } = props;\n  const { uid } = useParams();\n  const { currentUser } = useContext(BarkerContext);\n  const currUser = users.find((user) => user.uid === currentUser.uid);\n  const profileOwner = users.find((user) => user.uid === uid);\n  let followingUsers = [];\n  profileOwner.following.forEach((uid) => {\n    for (let i = 0; i < users.length; i++) {\n      if (users[i].uid === uid) {\n        followingUsers.push(users[i]);\n      }\n    }\n  });\n\n  return (\n    <div className=\"tiles-container\">\n      {followingUsers.map((user) => (\n        <UserTile\n          user={user}\n          users={users}\n          currUser={currUser}\n          key={user.uid}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Following;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\nimport { useParams } from \"react-router-dom\";\nimport UserTile from \"../UserTile\";\n\nconst Followers = (props) => {\n  const { users } = props;\n  const { uid } = useParams();\n  const { currentUser } = useContext(BarkerContext);\n  const currUser = users.find((user) => user.uid === currentUser.uid);\n  const profileOwner = users.find((user) => user.uid === uid);\n  let followers = [];\n  profileOwner.followers.forEach((uid) => {\n    for (let i = 0; i < users.length; i++) {\n      if (users[i].uid === uid) {\n        followers.push(users[i]);\n      }\n    }\n  });\n\n  return (\n    <div className=\"tiles-container\">\n      {followers.map((follower) => (\n        <UserTile\n          user={follower}\n          users={users}\n          currUser={currUser}\n          key={follower.uid}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Followers;\n","import React from \"react\";\nimport {\n  NavLink,\n  Switch,\n  Route,\n  useParams,\n  useRouteMatch,\n} from \"react-router-dom\";\n\nimport { FiArrowLeft } from \"react-icons/fi\";\n\nimport Following from \"./Following\";\nimport Followers from \"./Followers\";\n\nconst FollowPage = (props) => {\n  const { history, users } = props;\n  const { uid } = useParams();\n  const { url, path } = useRouteMatch();\n  const user = users.find((ele) => ele.uid === uid);\n\n  return (\n    <div className=\"center-container\">\n      <div className=\"arrow-left-container\">\n        <FiArrowLeft id=\"arrow-left\" onClick={() => history.goBack()} />\n      </div>\n      <h2>{user.username}</h2>\n\n      <div className=\"profile-tabs-container\">\n        <NavLink to={`${url}`} exact={true} activeClassName={\"active\"}>\n          <div>Following</div>\n        </NavLink>\n        <NavLink to={`${url}/followers`} activeClassName={\"active\"}>\n          <div>Followers</div>\n        </NavLink>\n      </div>\n\n      <Switch>\n        <Route\n          exact\n          path={`${path}`}\n          render={(props) => <Following {...props} users={users} />}\n        />\n        <Route\n          path={`${path}/followers`}\n          render={(props) => <Followers {...props} users={users} />}\n        />\n      </Switch>\n    </div>\n  );\n};\n\nexport default FollowPage;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport Post from \"./post/Post\";\nimport ArrowLeft from \"./reusables/ArrowLeft\";\n\nconst HashtagPage = (props) => {\n  const { contents, history } = props;\n  const { hashtag } = useParams();\n\n  const hashtags = contents.filter((post) => post.text.includes(`#${hashtag}`));\n\n  return (\n    <div className=\"center-container\">\n      <ArrowLeft onClick={() => history.goBack()} />\n      <div className=\"posts-container\">\n        {hashtags.map((post) => (\n          <Post post={post} contents={contents} key={post.id} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default HashtagPage;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { BarkerContext } from \"../context/BarkerContext\";\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\n\nimport Header from \"./Header\";\nimport Sidebar from \"./Sidebar\";\nimport Main from \"./Main\";\nimport Profile from \"./profile/Profile\";\nimport PostPage from \"../components/PostPage\";\nimport BarkersPage from \"../components/BarkersPage\";\nimport FollowPage from \"./profile/FollowPage\";\n\nimport HashtagPage from \"./HashtagPage\";\n\nimport firebaseApp from \"../firebase/firebase\";\n\nconst db = firebaseApp.firestore();\n\nconst Home = () => {\n  const { handleError } = useContext(BarkerContext);\n  const { path } = useRouteMatch();\n  const [contents, setContents] = useState([]);\n  const [posts, setPosts] = useState([]);\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    //sync contents\n    const unsubscribe = db\n      .collection(\"contents\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot(\n        (snapshot) => {\n          const fetchedContents = snapshot.docs.map((doc) => {\n            return { id: doc.id, ...doc.data() };\n          });\n\n          setContents(fetchedContents);\n\n          const posts = fetchedContents.filter(\n            (item) => item.type === \"post\" || item.type === \"rebark\"\n          );\n          setPosts(posts);\n        },\n        (error) => {\n          handleError(error);\n        }\n      );\n\n    return () => unsubscribe();\n  }, [handleError]);\n\n  useEffect(() => {\n    //sync users\n    const unsubscribe = db.collection(\"users\").onSnapshot(\n      (snapshot) => {\n        const fetchedUsers = snapshot.docs.map((doc) => {\n          return { uid: doc.id, ...doc.data() };\n        });\n        setUsers(fetchedUsers);\n      },\n      (error) => {\n        handleError(error);\n      }\n    );\n    return () => unsubscribe();\n  }, [handleError]);\n\n  return (\n    <div className=\"home-container\">\n      <Header />\n      <div className=\"app-container\">\n        <Sidebar />\n        <Switch>\n          <Route\n            exact\n            path={`/home`}\n            render={(props) => (\n              <Main\n                {...props}\n                contents={contents}\n                posts={posts}\n                users={users}\n              />\n            )}\n          />\n\n          <Route\n            path={`${path}profile/:uid`}\n            render={(props) => (\n              <Profile\n                {...props}\n                contents={contents}\n                posts={posts}\n                users={users}\n              />\n            )}\n          />\n\n          <Route\n            path={`${path}:uid/follow-page`}\n            render={(props) => <FollowPage {...props} users={users} />}\n          />\n\n          <Route\n            path={`${path}barkers`}\n            render={(props) => <BarkersPage {...props} users={users} />}\n          />\n          <Route\n            path={`${path}post/:id`}\n            render={(props) => (\n              <PostPage {...props} contents={contents} users={users} />\n            )}\n          />\n\n          <Route\n            path={`${path}hashtag/:hashtag`}\n            render={(props) => <HashtagPage {...props} contents={contents} />}\n          />\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\n\nimport CloseButton from \"../reusables/CloseButton\";\n\nconst AnonymousModal = () => {\n  const { signInAnonymous, setSignInModal, updateAnonName } = useContext(\n    BarkerContext\n  );\n\n  return (\n    <div className=\"modal\">\n      <section className=\"modal-main\">\n        <CloseButton onClick={() => setSignInModal(false)} />\n        <div className=\"sign-in-form-container\">\n          <form className=\"sign-in-form\" onSubmit={signInAnonymous}>\n            <input\n              type=\"text\"\n              placeholder=\"choose a username\"\n              onChange={updateAnonName}\n              required\n            ></input>\n            <button type=\"submit\" className=\"sign-in-btn\">\n              Sign In Anonymously\n            </button>\n          </form>\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default AnonymousModal;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../context/BarkerContext\";\n\nimport AnonymousModal from \"./modals/AnonymousModal\";\n\nconst LoginPage = () => {\n  const { signIn, showSignInModal, signInModal } = useContext(BarkerContext);\n\n  return (\n    <div id=\"login-page\">\n      <div className=\"welcome-box\">\n        <div>\n          <h2>Welcome to Barker!</h2>\n          <p>Sign In to access the Barker world!</p>\n        </div>\n\n        <div className=\"btns-container\">\n          <button onClick={signIn}>Log in with Google</button>\n          <button onClick={showSignInModal}>Log In Anonimously</button>\n        </div>\n      </div>\n      {signInModal && <AnonymousModal />}\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React, { useContext } from \"react\";\nimport { BarkerContext } from \"../../context/BarkerContext\";\n\nimport CloseButton from \"../reusables/CloseButton\";\nconst ErrorModal = () => {\n  const { error, closeError } = useContext(BarkerContext);\n\n  return (\n    <div className=\"modal\">\n      <CloseButton onClick={closeError} />\n      <section className=\"modal-main\">\n        <div className=\"error-message\">{error}</div>\n        <button onClick={closeError}>OK</button>\n      </section>\n    </div>\n  );\n};\n\nexport default ErrorModal;\n","import React, { useContext } from \"react\";\nimport { BrowserRouter, Route, Redirect } from \"react-router-dom\";\nimport { BarkerContext } from \"./context/BarkerContext\";\n\nimport \"./styles/app.css\";\nimport \"./styles/posts.css\";\nimport \"./styles/signIn.css\";\nimport \"./styles/sidebar.css\";\nimport \"./styles/home.css\";\nimport \"./styles/profile.css\";\nimport \"./styles/buttons.css\";\n\nimport Home from \"./components/Home\";\nimport LoginPage from \"./components/LoginPage\";\nimport ErrorModal from \"../src/components/modals/ErrorModal\";\n\nfunction App() {\n  const { userLoggedIn, showError } = useContext(BarkerContext);\n  return (\n    <BrowserRouter>\n      <Route exact path=\"/login\">\n        {userLoggedIn ? <Redirect to=\"/home\" /> : <LoginPage />}\n      </Route>\n      <Route path=\"/\">\n        {!userLoggedIn ? <Redirect to=\"/login\" /> : <Home />}{\" \"}\n      </Route>\n\n      {showError && <ErrorModal />}\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ContextProvider } from \"./context/BarkerContext\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ContextProvider>\n      <App />\n    </ContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}